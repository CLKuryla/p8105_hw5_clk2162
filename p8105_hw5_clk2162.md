P8105 Homework 5
================
Christine Lucille Kuryla (clk2162)
2023-11-15

# Problem 1

## Import and clean data

This problem explores the proportion of homicides in several cities that
are solved/result in arrest. Let’s start by importing, cleaning, and
manipulating the data to serve our purposes.

``` r
homicide_data <- 
  read_csv("data/homicide-data.csv", na = c("", "NA", "Unknown")) %>%
  mutate(
    city_state = str_c(city, state, sep = ", "),
    resolution = case_when(
      disposition == "Closed without arrest" ~ "unsolved",
      disposition == "Open/No arrest"        ~ "unsolved",
      disposition == "Closed by arrest"      ~ "solved"
    )
  ) %>% 
  filter(city_state != "Tulsa, AL") 
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (8): uid, victim_last, victim_first, victim_race, victim_sex, city, stat...
    ## dbl (4): reported_date, victim_age, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The resulting dataframe `homicide_data` has information on uid,
reported_date, victim_last, victim_first, victim_race, victim_age,
victim_sex, city, state, lat, lon, disposition, city_state, resolution
and has been cleaned.

## Proportion of unsolved homicides in Baltimore

``` r
# Proportion test to estimite the proportion of unsolved homicides in Baltimore

# filter and select relevant data

baltimore <- homicide_data %>%
  filter(city_state == "Baltimore, MD") %>%
  select(resolution) %>%
  summarize(
    hom_total = n(),
    hom_unsolved = sum(resolution == "unsolved")
  )

# perform proportion test

baltimore_prop <- 
    prop.test(
    x = baltimore %>% pull(hom_unsolved),
    n = baltimore %>% pull(hom_total)) 

broom::tidy(baltimore_prop) %>% 
  knitr::kable(digits = 3)
```

| estimate | statistic | p.value | parameter | conf.low | conf.high | method                                               | alternative |
|---------:|----------:|--------:|----------:|---------:|----------:|:-----------------------------------------------------|:------------|
|    0.646 |   239.011 |       0 |         1 |    0.628 |     0.663 | 1-sample proportions test with continuity correction | two.sided   |

The proportion of unsolved homicides in Baltimore is 0.6455607. See
above table for details.
